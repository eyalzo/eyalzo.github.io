<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title><!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Gilat AI - 转 拽砖专</title>
   <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;700&display=swap" rel="stylesheet">
   
   <style>
       :root {
           --primary-color: #00897b;
           --bg-color: #f4f7f6;
           --card-bg: #ffffff;
           --text-color: #333;
           --border-color: #e0e0e0;
           --meta-color: #777;
       }

       body {
           font-family: 'Heebo', sans-serif;
           background-color: var(--bg-color);
           color: var(--text-color);
           margin: 0;
           padding: 20px;
           text-align: right;
       }

       .container { max-width: 1100px; margin: 0 auto; }

       header { margin-bottom: 30px; border-bottom: 2px solid #ddd; padding-bottom: 20px; }
       h1 { color: var(--primary-color); margin: 0; }
       .subtitle { color: #666; font-size: 0.9em; margin-top: 5px; }

       .nav-btn {
           background-color: #546e7a; color: white; text-decoration: none;
           padding: 8px 16px; border-radius: 6px; font-weight: bold; float: left;
           font-size: 0.9rem;
       }
       .nav-btn:hover { background-color: #455a64; }

       .pairs-grid {
           display: grid;
           grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
           gap: 20px;
           margin-top: 20px;
       }

       .pair-card {
           background: var(--card-bg);
           border: 1px solid var(--border-color);
           border-radius: 10px;
           padding: 15px;
           transition: transform 0.2s, box-shadow 0.2s;
           display: flex;
           justify-content: space-between;
           align-items: center;
           position: relative;
           overflow: hidden;
       }

       .pair-card:hover {
           transform: translateY(-3px);
           box-shadow: 0 5px 15px rgba(0,0,0,0.1);
           border-color: var(--primary-color);
       }

       .strength-bar {
           position: absolute;
           bottom: 0;
           right: 0;
           height: 4px;
           background-color: var(--primary-color);
           opacity: 0.3;
           transition: width 0.5s ease;
       }

       .pair-names {
           display: flex;
           flex-direction: column;
           gap: 8px;
           font-weight: bold;
           font-size: 1.05em;
           z-index: 2;
           width: 100%;
       }

       .pair-row {
           display: flex;
           align-items: center;
           justify-content: space-between;
           width: 100%;
       }

       .plus-sign { 
           color: #bbb; 
           font-size: 0.8em; 
           margin: 2px 0;
           text-align: center;
           width: 100%;
       }

       .percent-badge {
           font-size: 0.75em;
           color: var(--meta-color);
           background-color: #f0f0f0;
           padding: 2px 6px;
           border-radius: 4px;
           margin-right: 8px;
           font-weight: normal;
       }

       .pair-count-badge {
           background-color: #e0f2f1;
           color: var(--primary-color);
           padding: 10px;
           border-radius: 50%;
           font-weight: bold;
           font-size: 1.1em;
           min-width: 30px;
           height: 30px;
           display: flex;
           align-items: center;
           justify-content: center;
           z-index: 2;
           margin-right: 15px;
           box-shadow: 0 2px 5px rgba(0,0,0,0.05);
       }

       .search-box {
           width: 100%;
           padding: 12px;
           border: 1px solid #ccc;
           border-radius: 8px;
           font-size: 1rem;
           box-sizing: border-box;
           margin-bottom: 10px;
           font-family: inherit;
       }
   </style>
</head>
<body>

<div class="container">
    <header>
        <a href="topics.html" class="nav-btn">专 拽住 砖</a>
        <h1> 转 爪 </h1>
        <div class="subtitle"> 砖 驻注  专 ? ( 爪 转 拽 砖 驻砖 转 住 驻注转 砖)</div>
    </header>

    <input type="text" id="searchInput" class="search-box" placeholder="驻砖 砖 转 转..." onkeyup="filterPairs()">

    <div id="loading">注 转...</div>
    <div id="pairsContainer" class="pairs-grid"></div>
</div>

<script>
    let allPairs = [];

    fetch('topics_data.json')
        .then(response => response.json())
        .then(data => {
            document.getElementById('loading').style.display = 'none';
            if (data.pairs) {
                allPairs = data.pairs;
                renderPairs(allPairs);
            } else {
                document.getElementById('pairsContainer').innerHTML = ' 爪 转 转 拽抓.';
            }
        })
        .catch(err => {
            console.error(err);
            document.getElementById('loading').innerText = '砖 注转 转.';
        });

    function renderPairs(pairs) {
        const container = document.getElementById('pairsContainer');
        
        // 爪转 注专 拽住 爪专 砖 专 驻住 专驻 转转转 专住
        const maxCount = Math.max(...pairs.map(p => p.count), 1);

        const html = pairs.map(pair => {
            // 砖  专 驻住 转转转 专住 (拽 住)
            const strengthPct = (pair.count / maxCount) * 100;

            // 砖  住  砖
            //    驻砖 砖转祝 转 住  砖 砖 专砖?
            const p1_pct = pair.topic1_total > 0 
                ? Math.round((pair.count / pair.topic1_total) * 100) 
                : 0;
            
            // " 砖 砖
            const p2_pct = pair.topic2_total > 0 
                ? Math.round((pair.count / pair.topic2_total) * 100) 
                : 0;

            return `
                <div class="pair-card">
                    <div class="strength-bar" style="width: ${strengthPct}%"></div>
                    
                    <div class="pair-names">
                        <div class="pair-row">
                            <span>${pair.topic1}</span>
                            <span class="percent-badge" title="${pair.count} 转 ${pair.topic1_total} 驻注转">${p1_pct}%</span>
                        </div>
                        
                        <div class="plus-sign">+</div>
                        
                        <div class="pair-row">
                            <span>${pair.topic2}</span>
                            <span class="percent-badge" title="${pair.count} 转 ${pair.topic2_total} 驻注转">${p2_pct}%</span>
                        </div>
                    </div>

                    <div class="pair-count-badge" title="住驻专 驻注转 砖转驻转">
                        ${pair.count}
                    </div>
                </div>
            `;
        }).join('');

        container.innerHTML = html;
    }

    function filterPairs() {
        const query = document.getElementById('searchInput').value.trim().toLowerCase();
        
        if (!query) {
            renderPairs(allPairs);
            return;
        }

        const filtered = allPairs.filter(p => 
            p.topic1.toLowerCase().includes(query) || 
            p.topic2.toLowerCase().includes(query)
        );
        renderPairs(filtered);
    }
</script>

</body>
</html></title>
</head>
<body>

</body>
</html> 
